{"version":3,"file":"/Users/taojiang/Documents/work/redux_study/redux_/src/combinReducers.ts","sources":["/Users/taojiang/Documents/work/redux_study/redux_/src/combinReducers.ts"],"names":[],"mappings":";;AAEA;;;GAGG;AACH,MAAM,cAAc,GAAG,CAAC,QAAkC,EAAE,EAAE;IAC5D,IAAI,CAAC,QAAQ;QAAE,QAAQ,GAAG,EAAE,CAAC;IAC7B,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IACjC,OAAO,CAAC,QAAa,EAAE,EAAE,MAAiB,EAAE,EAAE;QAC5C,IAAI,QAAQ,GAAQ,EAAE,CAAC;QACvB,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,EAAE;YACrB,IAAI,OAAO,GAAY,QAAQ,CAAC,GAAG,CAAC,CAAC;YAErC,4BAA4B;YAC5B,IAAI,SAAS,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;YAE3B,IAAI,OAAO,EAAE;gBACX,iDAAiD;gBACjD,CAAC,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;aACrC;iBACI;gBACH,OAAO,CAAC,IAAI,CAAC,WAAW,GAAG,iBAAiB,CAAC,CAAC;aAC/C;YACD,OAAO,CAAC,CAAC;QACX,CAAC,EAAE,QAAQ,CAAC,CAAA;QACZ,OAAO,QAAQ,CAAC;IAClB,CAAC,CAAA;AACH,CAAC,CAAA;AAEQ,wCAAc","sourcesContent":["import { AnyAction, Reducer } from \"./createStore\";\n\n/**\n * 合并reducer\n * @param reducers \n */\nconst combinReducers = (reducers: { [k: string]: Reducer }) => {\n  if (!reducers) reducers = {};\n  let keys = Object.keys(reducers);\n  return (state: any = {}, action: AnyAction) => {\n    let newState: any = {};\n    keys.reduce((s, key) => {\n      let reducer: Reducer = reducers[key];\n\n      /**获取之前没被reducer之前的 state */\n      let pureState = state[key];\n\n      if (reducer) {\n        /**如果pureState 是 undefine 那么reducer 会初始化 state */\n        s[key] = reducer(pureState, action);\n      }\n      else {\n        console.warn(`reducer:${key} not's undefine`);\n      }\n      return s;\n    }, newState)\n    return newState;\n  }\n}\n\nexport { combinReducers }"]}